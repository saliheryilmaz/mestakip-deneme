import{m as o}from"./main-f0Mg-34g.js";document.addEventListener("alpine:init",()=>{o.data("filesComponent",()=>({sidebarVisible:!1,viewMode:"grid",sortBy:"name",selectedFiles:[],showUploadZone:!1,storageUsed:45.2,storageTotal:100,currentFolder:null,breadcrumbs:[{name:"My Files",path:"/"}],folders:[],currentFiles:[],recentFiles:[],quickAccess:[],allFiles:[],init(){this.loadSampleData(),this.sortFiles(),this.showUploadZone=this.currentFiles.length===0},get storagePercentage(){return this.storageUsed/this.storageTotal*100},get storageRemaining(){return(this.storageTotal-this.storageUsed).toFixed(1)},loadSampleData(){this.folders=[{id:1,name:"Documents",fileCount:23,icon:"bi-folder-fill"},{id:2,name:"Images",fileCount:156,icon:"bi-folder-fill"},{id:3,name:"Projects",fileCount:12,icon:"bi-folder-fill"},{id:4,name:"Shared",fileCount:8,icon:"bi-folder-fill"},{id:5,name:"Archive",fileCount:45,icon:"bi-folder-fill"}],this.allFiles=[{id:1,name:"Project Proposal.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"2.4 MB",modifiedDate:"2 hours ago",folder:"Documents"},{id:2,name:"Budget Spreadsheet.xlsx",type:"spreadsheet",typeLabel:"Excel",icon:"bi-file-earmark-spreadsheet",size:"856 KB",modifiedDate:"1 day ago",folder:"Documents"},{id:3,name:"Team Photo.jpg",type:"image",typeLabel:"Image",icon:"bi-file-earmark-image",size:"4.2 MB",modifiedDate:"3 days ago",folder:"Images"},{id:4,name:"Marketing Presentation.pptx",type:"presentation",typeLabel:"PowerPoint",icon:"bi-file-earmark-ppt",size:"12.8 MB",modifiedDate:"1 week ago",folder:"Documents"},{id:5,name:"Demo Video.mp4",type:"video",typeLabel:"Video",icon:"bi-file-earmark-play",size:"145 MB",modifiedDate:"2 weeks ago",folder:"Projects"},{id:6,name:"Audio Recording.mp3",type:"audio",typeLabel:"Audio",icon:"bi-file-earmark-music",size:"8.5 MB",modifiedDate:"3 weeks ago",folder:"Projects"},{id:7,name:"Archive.zip",type:"archive",typeLabel:"Archive",icon:"bi-file-earmark-zip",size:"25.6 MB",modifiedDate:"1 month ago",folder:"Archive"},{id:8,name:"Logo Design.ai",type:"image",typeLabel:"Illustrator",icon:"bi-file-earmark-image",size:"3.2 MB",modifiedDate:"2 days ago",folder:"Images"},{id:9,name:"Meeting Notes.docx",type:"document",typeLabel:"Word",icon:"bi-file-earmark-word",size:"124 KB",modifiedDate:"5 hours ago",folder:"Documents"},{id:10,name:"Client Contract.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"1.8 MB",modifiedDate:"1 week ago",folder:"Shared"},{id:11,name:"Screenshot.png",type:"image",typeLabel:"Image",icon:"bi-file-earmark-image",size:"956 KB",modifiedDate:"6 hours ago",folder:"Images"},{id:12,name:"Database Backup.sql",type:"document",typeLabel:"SQL",icon:"bi-file-earmark-code",size:"89 MB",modifiedDate:"3 days ago",folder:"Archive"},{id:13,name:"Product Catalog.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"5.7 MB",modifiedDate:"4 days ago",folder:"Shared"},{id:14,name:"Website Mockup.psd",type:"image",typeLabel:"Photoshop",icon:"bi-file-earmark-image",size:"67 MB",modifiedDate:"1 week ago",folder:"Projects"},{id:15,name:"Financial Report.xlsx",type:"spreadsheet",typeLabel:"Excel",icon:"bi-file-earmark-spreadsheet",size:"2.1 MB",modifiedDate:"2 weeks ago",folder:"Documents"}],this.currentFiles=[...this.allFiles],this.recentFiles=this.allFiles.sort((e,t)=>this.getModifiedTimestamp(e.modifiedDate)-this.getModifiedTimestamp(t.modifiedDate)).reverse().slice(0,5),this.quickAccess=[{name:"Recent",icon:"bi-clock-history",count:this.recentFiles.length,type:"recent"},{name:"Images",icon:"bi-image",count:this.allFiles.filter(e=>e.type==="image").length,type:"images"},{name:"Documents",icon:"bi-file-earmark-text",count:this.allFiles.filter(e=>e.type==="document").length,type:"documents"},{name:"Shared",icon:"bi-people",count:this.allFiles.filter(e=>e.folder==="Shared").length,type:"shared"},{name:"Trash",icon:"bi-trash",count:0,type:"trash"}]},getModifiedTimestamp(e){const t=new Date;if(e.includes("hour")){const i=parseInt(e);return t.getTime()-i*60*60*1e3}else if(e.includes("day")){const i=parseInt(e);return t.getTime()-i*24*60*60*1e3}else if(e.includes("week")){const i=parseInt(e);return t.getTime()-i*7*24*60*60*1e3}else if(e.includes("month")){const i=parseInt(e);return t.getTime()-i*30*24*60*60*1e3}return t.getTime()},sortFiles(){this.currentFiles.sort((e,t)=>{switch(this.sortBy){case"name":return e.name.localeCompare(t.name);case"date":return this.getModifiedTimestamp(e.modifiedDate)-this.getModifiedTimestamp(t.modifiedDate);case"size":return this.parseSize(e.size)-this.parseSize(t.size);case"type":return e.typeLabel.localeCompare(t.typeLabel);default:return 0}})},parseSize(e){const t=e.split(" "),i=parseFloat(t[0]);switch(t[1]){case"KB":return i*1024;case"MB":return i*1024*1024;case"GB":return i*1024*1024*1024;default:return i}},selectFile(e){const t=this.selectedFiles.indexOf(e.id);t>-1?this.selectedFiles.splice(t,1):this.selectedFiles.push(e.id)},toggleFileSelection(e){const t=this.selectedFiles.indexOf(e);t>-1?this.selectedFiles.splice(t,1):this.selectedFiles.push(e)},selectAll(){this.selectedFiles.length===this.currentFiles.length?this.selectedFiles=[]:this.selectedFiles=this.currentFiles.map(e=>e.id)},toggleSelectAll(){this.selectAll()},openFolder(e){this.currentFolder=e,this.currentFiles=this.allFiles.filter(t=>t.folder===e.name),this.breadcrumbs=[{name:"My Files",path:"/"},{name:e.name,path:`/${e.name}`}],this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},navigateToBreadcrumb(e){if(this.breadcrumbs=this.breadcrumbs.slice(0,e+1),e===0)this.currentFolder=null,this.currentFiles=[...this.allFiles],this.breadcrumbs=[{name:"My Files",path:"/"}];else{const t=this.breadcrumbs[e].name,i=this.quickAccess.find(l=>l.name===t);if(i){this.navigateToQuickAccessItem(i);return}const s=this.folders.find(l=>l.name===t);s?(this.currentFolder=s,this.currentFiles=this.allFiles.filter(l=>l.folder===s.name)):(this.currentFolder=null,this.currentFiles=[...this.allFiles],this.breadcrumbs=[{name:"My Files",path:"/"}])}this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},navigateToQuickAccess(e){this.navigateToQuickAccessItem(e)},navigateToQuickAccessItem(e){switch(this.breadcrumbs=[{name:"My Files",path:"/"},{name:e.name,path:`/${e.type}`}],this.currentFolder=null,e.type){case"recent":this.currentFiles=[...this.recentFiles];break;case"images":this.currentFiles=this.allFiles.filter(t=>t.type==="image");break;case"documents":this.currentFiles=this.allFiles.filter(t=>t.type==="document");break;case"shared":this.currentFiles=this.allFiles.filter(t=>t.folder==="Shared");break;case"trash":this.currentFiles=[];break;default:this.currentFiles=[...this.allFiles]}this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},setViewMode(e){this.viewMode=e},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible},openFile(e){typeof Swal<"u"?Swal.fire({title:`Opening ${e.name}`,html:`
            <div class="text-start">
              <p><strong>üìÅ File:</strong> ${e.name}</p>
              <p><strong>üìè Size:</strong> ${e.size}</p>
              <p><strong>üìÖ Modified:</strong> ${e.modifiedDate}</p>
              <p><strong>üìÇ Folder:</strong> ${e.folder}</p>
              <p><strong>üè∑Ô∏è Type:</strong> ${e.typeLabel}</p>
            </div>
          `,icon:"info",showCancelButton:!0,confirmButtonText:"Open",cancelButtonText:"Close",confirmButtonColor:"var(--bs-primary)"}).then(t=>{t.isConfirmed&&this.showNotification(`Opening ${e.name} in default application...`,"success")}):this.showNotification(`Opening ${e.name}`,"info")},downloadFile(e){this.showNotification(`üì• Downloading ${e.name}...`,"success"),setTimeout(()=>{this.showNotification(`‚úÖ ${e.name} downloaded successfully!`,"success")},2e3)},downloadSelected(){if(this.selectedFiles.length===0){this.showNotification("‚ùå No files selected","warning");return}typeof Swal<"u"?Swal.fire({title:"Download Selected Files",text:`Download ${this.selectedFiles.length} selected files as a ZIP archive?`,icon:"question",showCancelButton:!0,confirmButtonText:"Download ZIP",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-primary)"}).then(e=>{e.isConfirmed&&(this.showNotification(`üì¶ Creating ZIP archive with ${this.selectedFiles.length} files...`,"success"),setTimeout(()=>{this.showNotification("‚úÖ ZIP archive downloaded successfully!","success")},3e3))}):this.showNotification(`Downloading ${this.selectedFiles.length} files...`,"success")},shareFile(e){typeof Swal<"u"?Swal.fire({title:`Share ${e.name}`,html:`
            <div class="text-start">
              <div class="mb-3">
                <label class="form-label">Share with:</label>
                <input type="email" class="form-control" placeholder="Enter email address..." id="shareEmail">
              </div>
              <div class="mb-3">
                <label class="form-label">Permissions:</label>
                <select class="form-select" id="sharePermissions">
                  <option value="view">View only</option>
                  <option value="edit">Can edit</option>
                  <option value="download">Can download</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Share link:</label>
                <div class="input-group">
                  <input type="text" class="form-control" value="https://files.app/share/${e.id}" readonly>
                  <button class="btn btn-outline-secondary" type="button" onclick="navigator.clipboard.writeText('https://files.app/share/${e.id}')">Copy</button>
                </div>
              </div>
            </div>
          `,showCancelButton:!0,confirmButtonText:"Send Invite",cancelButtonText:"Close",confirmButtonColor:"var(--bs-primary)"}):this.showNotification("Share dialog would open here","info")},renameFile(e){if(typeof Swal<"u")Swal.fire({title:"Rename File",input:"text",inputValue:e.name,inputPlaceholder:"Enter new file name...",showCancelButton:!0,confirmButtonText:"Rename",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-primary)",inputValidator:t=>{if(!t||t.trim()==="")return"Please enter a valid file name";if(t===e.name)return"Please enter a different name"}}).then(t=>{if(t.isConfirmed&&t.value){const i=e.name;e.name=t.value.trim(),this.showNotification(`üìù "${i}" renamed to "${e.name}"`,"success")}});else{const t=prompt("Enter new file name:",e.name);t&&t!==e.name&&(e.name=t,this.showNotification("File renamed successfully","success"))}},deleteFile(e){typeof Swal<"u"?Swal.fire({title:"Delete File",text:`Are you sure you want to delete "${e.name}"? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-danger)",cancelButtonColor:"var(--bs-secondary)"}).then(t=>{t.isConfirmed&&(this.performFileDelete(e),this.showNotification(`üóëÔ∏è "${e.name}" moved to trash`,"success"))}):confirm(`Are you sure you want to delete "${e.name}"?`)&&(this.performFileDelete(e),this.showNotification("File deleted successfully","success"))},performFileDelete(e){const t=this.currentFiles.findIndex(s=>s.id===e.id);t>-1&&this.currentFiles.splice(t,1);const i=this.allFiles.findIndex(s=>s.id===e.id);i>-1&&this.allFiles.splice(i,1),this.selectedFiles=this.selectedFiles.filter(s=>s!==e.id)},deleteSelected(){if(this.selectedFiles.length===0){this.showNotification("‚ùå No files selected","warning");return}typeof Swal<"u"?Swal.fire({title:"Delete Selected Files",text:`Are you sure you want to delete ${this.selectedFiles.length} selected files? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Delete All",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-danger)",cancelButtonColor:"var(--bs-secondary)"}).then(e=>{if(e.isConfirmed){const t=this.selectedFiles.length;this.currentFiles=this.currentFiles.filter(i=>!this.selectedFiles.includes(i.id)),this.allFiles=this.allFiles.filter(i=>!this.selectedFiles.includes(i.id)),this.selectedFiles=[],this.showNotification(`üóëÔ∏è ${t} files moved to trash`,"success")}}):confirm(`Are you sure you want to delete ${this.selectedFiles.length} files?`)&&(this.currentFiles=this.currentFiles.filter(e=>!this.selectedFiles.includes(e.id)),this.allFiles=this.allFiles.filter(e=>!this.selectedFiles.includes(e.id)),this.selectedFiles=[],this.showNotification("Files deleted successfully","success"))},uploadFile(){typeof Swal<"u"?Swal.fire({title:"Upload Files",html:`
            <div class="text-start">
              <div class="mb-3">
                <label class="form-label">Select files to upload:</label>
                <input type="file" class="form-control" multiple accept="*/*" id="fileUpload">
              </div>
              <div class="mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="overwriteFiles">
                  <label class="form-check-label" for="overwriteFiles">
                    Overwrite existing files
                  </label>
                </div>
              </div>
              <div class="upload-preview d-none">
                <h6>Files to upload:</h6>
                <ul id="fileList" class="list-unstyled"></ul>
              </div>
            </div>
          `,showCancelButton:!0,confirmButtonText:"Upload",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-primary)",preConfirm:()=>{const e=document.getElementById("fileUpload");return e.files.length===0?(Swal.showValidationMessage("Please select at least one file"),!1):Array.from(e.files)}}).then(e=>{e.isConfirmed&&(this.showNotification(`‚òÅÔ∏è Uploading ${e.value.length} files...`,"success"),setTimeout(()=>{this.showNotification(`‚úÖ ${e.value.length} files uploaded successfully!`,"success")},2500))}):this.showNotification("File upload dialog would open here","info")},createFolder(){if(typeof Swal<"u")Swal.fire({title:"Create New Folder",input:"text",inputPlaceholder:"Enter folder name...",showCancelButton:!0,confirmButtonText:"Create",cancelButtonText:"Cancel",confirmButtonColor:"var(--bs-primary)",inputValidator:e=>{if(!e||e.trim()==="")return"Please enter a folder name";if(this.folders.some(t=>t.name.toLowerCase()===e.toLowerCase()))return"A folder with this name already exists"}}).then(e=>{if(e.isConfirmed&&e.value){const t={id:this.folders.length+1,name:e.value.trim(),fileCount:0,icon:"bi-folder-fill"};this.folders.push(t),this.showNotification(`üìÅ Folder "${t.name}" created successfully`,"success")}});else{const e=prompt("Enter folder name:");if(e){const t={id:this.folders.length+1,name:e,fileCount:0,icon:"bi-folder-fill"};this.folders.push(t),this.showNotification(`Folder "${e}" created successfully`,"success")}}},refreshFiles(){this.showNotification("üîÑ Refreshing files...","info"),setTimeout(()=>{this.loadSampleData(),this.sortFiles(),this.showNotification("‚úÖ Files refreshed successfully!","success")},1e3)},showNotification(e,t="info"){typeof Swal<"u"?Swal.fire({title:e,icon:t==="success"?"success":t==="error"?"error":t==="warning"?"warning":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}):alert(e)}})),o.data("searchComponent",()=>({query:"",results:[],search(){console.log("Searching for:",this.query),this.query.length>2?this.results=[{title:"Calendar Events",url:"/calendar",type:"Page"},{title:"File Manager",url:"/files",type:"Page"},{title:"User Settings",url:"/settings",type:"Page"}].filter(e=>e.title.toLowerCase().includes(this.query.toLowerCase())):this.results=[]}})),o.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme)},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}))});
