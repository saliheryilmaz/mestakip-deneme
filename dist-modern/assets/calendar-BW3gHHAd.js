import{m as h,M as v}from"./main-f0Mg-34g.js";document.addEventListener("alpine:init",()=>{h.data("calendarComponent",()=>({sidebarVisible:!1,currentView:"month",selectedDate:null,selectedDay:null,currentDate:new Date,miniCalendarDate:new Date,visibleTypes:["event","meeting","task","reminder","deadline"],events:[],hours:["6:00 AM","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM","10:00 PM"],init(){this.loadSampleEvents(),this.selectedDate=new Date,this.selectedDay=new Date().toISOString().split("T")[0],this.currentDate=new Date,this.miniCalendarDate=new Date},loadSampleEvents(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=r[n],s=[{title:"Team Meeting",type:"meeting",time:"10:00",description:"Weekly team sync and project updates"},{title:"Product Launch",type:"event",time:"14:00",description:"Launch event for new product line"},{title:"Stand-up",type:"meeting",time:"09:00",description:"Daily team stand-up meeting"},{title:"Client Presentation",type:"task",time:"11:30",description:"Present quarterly results to client"},{title:"Payment Due",type:"reminder",time:"09:00",description:"Monthly subscription payment reminder"},{title:"Workshop",type:"event",time:"14:00",description:"Design thinking workshop"},{title:"Project Deadline",type:"deadline",time:"17:00",description:"Final submission for Q1 project"},{title:"Team Lunch",type:"event",time:"12:00",description:"Monthly team lunch gathering"},{title:"Board Meeting",type:"meeting",time:"15:00",description:"Monthly board meeting and strategy review"},{title:"Training Session",type:"event",time:"13:00",description:"Employee training on new software tools"},{title:"One-on-One",type:"meeting",time:"15:00",description:"Manager check-in meeting"},{title:"Code Review",type:"task",time:"16:00",description:"Review new feature implementations"},{title:"Doctor Appointment",type:"reminder",time:"14:30",description:"Annual health checkup appointment"},{title:"Release Planning",type:"meeting",time:"10:00",description:"Plan next release cycle"},{title:"Demo Day",type:"event",time:"14:00",description:"Quarterly product demo"},{title:"Conference Call",type:"meeting",time:"10:00",description:"International team coordination call"},{title:"Sprint Review",type:"meeting",time:"16:00",description:"Review sprint deliverables"},{title:"Budget Review",type:"task",time:"11:00",description:"Quarterly budget assessment"},{title:"All Hands",type:"meeting",time:"15:00",description:"Company-wide monthly meeting"}],d=new Date(t,n+1,0).getDate();this.events=[];let c=0;for(let o=i;o<=d&&c<s.length;o++)if((o-i)%2===0||o===i||o===d){const l=s[c],D=new Date(t,n,o),p=`${t}-${String(n+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;let u,g;o===i?(u=this.formatTime(l.time),g="Today"):o===i+1?(u=this.formatTime(l.time),g="Tomorrow"):(u=this.formatTime(l.time),g=`${a} ${o}`),this.events.push({id:c+1,title:l.title,type:l.type,time:l.time,timeStr:u,dateStr:g,description:l.description,date:p,dateObj:D,read:Math.random()>.3}),c++}const m=n===11?0:n+1,y=n===11?t+1:t,w=r[m];for(let o=1;o<=10&&c<s.length;o+=2){const l=s[c],D=new Date(y,m,o),p=`${y}-${String(m+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;this.events.push({id:c+1,title:l.title,type:l.type,time:l.time,timeStr:this.formatTime(l.time),dateStr:`${w} ${o}`,description:l.description,date:p,dateObj:D,read:Math.random()>.3}),c++}},formatTime(e){const[t,n]=e.split(":"),i=t%12||12,r=t>=12?"PM":"AM";return`${i}:${n} ${r}`},get currentMonthYear(){return this.miniCalendarDate.toLocaleDateString("en-US",{month:"long",year:"numeric"})},get currentPeriodTitle(){if(this.currentView==="month")return this.currentDate.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(this.currentView==="week"){const e=new Date(this.currentDate);e.setDate(this.currentDate.getDate()-this.currentDate.getDay());const t=new Date(e);return t.setDate(e.getDate()+6),`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return this.currentDate.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},get selectedDayTitle(){return this.selectedDay?new Date(this.selectedDay).toLocaleDateString("en-US",{weekday:"long"}):""},get selectedDayDate(){return this.selectedDay?new Date(this.selectedDay).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):""},get miniCalendarDays(){const e=this.miniCalendarDate.getFullYear(),t=this.miniCalendarDate.getMonth(),n=new Date(e,t,1),i=new Date(n);i.setDate(i.getDate()-n.getDay());const r=[];for(let a=0;a<42;a++){const s=new Date(i);s.setDate(i.getDate()+a);const d=s.toISOString().split("T")[0],c=this.events.some(m=>m.date===d);r.push({date:d,day:s.getDate(),isToday:this.isToday(s),isOtherMonth:s.getMonth()!==t,isSelected:d===this.selectedDay,hasEvents:c})}return r},get calendarDays(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=new Date(e,t,1),i=new Date(n);i.setDate(i.getDate()-n.getDay());const r=[];for(let a=0;a<42;a++){const s=new Date(i);s.setDate(i.getDate()+a);const d=s.toISOString().split("T")[0],c=this.getEventsForDate(d).filter(m=>this.visibleTypes.includes(m.type));r.push({date:d,day:s.getDate(),isToday:this.isToday(s),isOtherMonth:s.getMonth()!==t,isSelected:d===this.selectedDay,events:c})}return r},get weekDays(){const e=new Date(this.currentDate);e.setDate(this.currentDate.getDate()-this.currentDate.getDay());const t=[];for(let n=0;n<7;n++){const i=new Date(e);i.setDate(e.getDate()+n),t.push({date:i.toISOString().split("T")[0],dayName:i.toLocaleDateString("en-US",{weekday:"short"}),dayNumber:i.getDate(),isToday:this.isToday(i)})}return t},get upcomingEvents(){const e=new Date;return this.events.filter(t=>this.visibleTypes.includes(t.type)?t.dateObj>=e:!1).sort((t,n)=>t.dateObj-n.dateObj).slice(0,8)},previousMonth(){const e=new Date(this.miniCalendarDate);e.setMonth(e.getMonth()-1),this.miniCalendarDate=e},nextMonth(){const e=new Date(this.miniCalendarDate);e.setMonth(e.getMonth()+1),this.miniCalendarDate=e},previousPeriod(){const e=new Date(this.currentDate);this.currentView==="month"?e.setMonth(e.getMonth()-1):this.currentView==="week"?e.setDate(e.getDate()-7):e.setDate(e.getDate()-1),this.currentDate=e},nextPeriod(){const e=new Date(this.currentDate);this.currentView==="month"?e.setMonth(e.getMonth()+1):this.currentView==="week"?e.setDate(e.getDate()+7):e.setDate(e.getDate()+1),this.currentDate=e},goToToday(){this.currentDate=new Date,this.miniCalendarDate=new Date,this.selectedDay=new Date().toISOString().split("T")[0]},switchView(e){this.currentView=e,e==="day"&&!this.selectedDay&&(this.selectedDay=new Date().toISOString().split("T")[0])},selectDate(e){this.selectedDay=e,this.selectedDate=new Date(e),this.currentView==="day"&&(this.currentDate=new Date(e))},selectDay(e){this.selectDate(e.date)},isToday(e){const t=new Date;return e.toDateString()===t.toDateString()},isCurrentHour(e){const n=new Date().getHours(),i=parseInt(e.split(":")[0]),r=e.includes("AM");let a=i;return!r&&i!==12?a+=12:r&&i===12&&(a=0),a===n},getEventsForDate(e){return this.events.filter(t=>t.date===e)},getEventsForDateTime(e,t){return this.events.filter(n=>n.date!==e?!1:this.eventMatchesHour(n,t))},eventMatchesHour(e,t){const n=parseInt(e.time.split(":")[0]),i=parseInt(t.split(":")[0]),r=t.includes("AM");let a=i;return!r&&i!==12?a+=12:r&&i===12&&(a=0),n===a},getDayEventCount(e){return this.getEventsForDate(e).length},getCategoryCount(e){return this.events.filter(t=>t.type===e).length},getCategoryColor(e){return{event:"var(--bs-primary)",meeting:"var(--bs-success)",task:"var(--bs-warning)",reminder:"#8b5cf6",deadline:"var(--bs-danger)"}[e]||"var(--bs-secondary)"},getBadgeClass(e){return{event:"bg-primary",meeting:"bg-success",task:"bg-warning text-dark",reminder:"text-white",deadline:"bg-danger"}[e]||"bg-secondary"},getAlertClass(e){return{event:"alert-primary",meeting:"alert-success",task:"alert-warning",reminder:"alert-info",deadline:"alert-danger"}[e]||"alert-secondary"},viewEvent(e){this.showNotification(`Viewing event: ${e.title}`,"info")},addEvent(){new v(document.getElementById("addEventModal")).show()},addEventForDay(e){this.selectDay(e);const t=h.$data(document.querySelector('[x-data*="addEventModal"]'));t&&(t.eventData.date=e.date),this.addEvent()},addEventAtTime(e,t){this.selectDate(e);const n=h.$data(document.querySelector('[x-data*="addEventModal"]'));if(n){n.eventData.date=e;const i=parseInt(t.split(":")[0]),r=t.includes("AM");let a=i;!r&&i!==12?a+=12:r&&i===12&&(a=0),n.eventData.time=`${a.toString().padStart(2,"0")}:00`}this.addEvent()},showMoreEvents(e){this.selectDay(e),this.showNotification(`Showing all events for ${e.date}`,"info")},exportCalendar(){this.showNotification("Calendar export would start here","info")},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible},showNotification(e,t="info"){typeof Swal<"u"?Swal.fire({title:e,icon:t==="success"?"success":t==="error"?"error":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}):alert(e)}})),h.data("addEventModal",()=>({eventData:{title:"",type:"event",date:"",time:"",description:"",duration:"60",recurring:!1,recurrence:"weekly",priority:"medium",reminders:["15"],attendees:"",location:""},priorityOptions:[{value:"low",label:"Low Priority",color:"var(--bs-success)"},{value:"medium",label:"Medium Priority",color:"var(--bs-warning)"},{value:"high",label:"High Priority",color:"var(--bs-danger)"}],reminderOptions:[{value:"0",label:"At time of event"},{value:"5",label:"5 minutes before"},{value:"15",label:"15 minutes before"},{value:"30",label:"30 minutes before"},{value:"60",label:"1 hour before"},{value:"1440",label:"1 day before"}],init(){this.eventData.date=new Date().toISOString().split("T")[0],this.eventData.time="09:00"},submitEvent(){if(!this.eventData.title.trim()){this.showValidationError("Please enter an event title");return}if(!this.eventData.date){this.showValidationError("Please select a date");return}if(!this.eventData.time){this.showValidationError("Please select a time");return}const e={...this.eventData,formattedDate:new Date(this.eventData.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),formattedTime:new Date(`2000-01-01T${this.eventData.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};console.log("Creating event:",e),typeof Swal<"u"?Swal.fire({title:"Event Created Successfully!",html:`
            <div class="text-start">
              <p><strong>📅 Event:</strong> ${e.title}</p>
              <p><strong>📋 Type:</strong> ${e.type.charAt(0).toUpperCase()+e.type.slice(1)}</p>
              <p><strong>📆 Date:</strong> ${e.formattedDate}</p>
              <p><strong>🕐 Time:</strong> ${e.formattedTime}</p>
              ${e.description?`<p><strong>📝 Description:</strong> ${e.description}</p>`:""}
              ${e.location?`<p><strong>📍 Location:</strong> ${e.location}</p>`:""}
              <p><strong>⏱️ Duration:</strong> ${this.getDurationLabel(e.duration)}</p>
            </div>
          `,icon:"success",confirmButtonText:"Awesome!",confirmButtonColor:"var(--bs-primary)"}):alert(`Event "${this.eventData.title}" created successfully!`),this.closeModal()},getDurationLabel(e){const t=Math.floor(e/60),n=e%60;return e==480?"All day":t===0?`${n} minutes`:n===0?`${t} hour${t>1?"s":""}`:`${t}h ${n}m`},showValidationError(e){typeof Swal<"u"?Swal.fire({title:"Validation Error",text:e,icon:"error",confirmButtonText:"OK",confirmButtonColor:"var(--bs-danger)"}):alert(e)},closeModal(){const e=document.getElementById("addEventModal");if(e){const t=v.getInstance(e);t&&t.hide()}this.resetForm()},resetForm(){this.eventData={title:"",type:"event",date:new Date().toISOString().split("T")[0],time:"09:00",description:"",duration:"60",recurring:!1,recurrence:"weekly",priority:"medium",reminders:["15"],attendees:"",location:""}},getTypeColor(e){return{event:"var(--bs-primary)",meeting:"var(--bs-success)",task:"var(--bs-warning)",reminder:"#8b5cf6",deadline:"var(--bs-danger)"}[e]||"var(--bs-secondary)"}})),h.data("searchComponent",()=>({query:"",results:[],search(){this.query.length>2?this.results=[{title:"Team Meeting",url:"/calendar.html",type:"Event"},{title:"Calendar Settings",url:"/settings.html",type:"Page"},{title:"Project Timeline",url:"/calendar.html",type:"Event"}].filter(e=>e.title.toLowerCase().includes(this.query.toLowerCase())):this.results=[]}})),h.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme)},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}))});
